(import (scheme base))
(import (scheme process-context))
(import (scheme write))
(import (llambda typed))
(import (llambda nfi))

  (define japanese-port (open-input-string "む姎 媥焯簨盥媯 ビョ禯騪っ鏨 を"))

  (write (read-string 3 japanese-port))
  (write (read-string 5 japanese-port))
  (write (read-string 5 japanese-port))
  (assert-equal "を" (read-string 1024 japanese-port))
  (assert-true (eof-object? (read-string 1024 japanese-port)))
